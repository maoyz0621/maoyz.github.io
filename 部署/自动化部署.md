# 自动化部署

编译、打包、上传到服务器，然后启动项目。

Jenkins + Gitlab + Docker

Github Actions

## Jenkins

> sudo wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat/jenkins.repo
> sudo rpm --import https://pkg.jenkins.io/redhat/jenkins.io.key





> yum install jenkins
>


- 修改配置文件

  ```
  $ sudo vim /etc/sysconfig/jenkins
  
  # 修改启动用户为root,默认为jenkins
  JENKINS_USER="root"
  # 修改运行端口为9999，默认为8080
  JENKINS_PORT="9999"
  ```

  

```
# Start
systemctl start jenkins
# 查看状态
systemctl status jenkins
```



User name must only contain alphanumeric characters, underscore and dash

```
# 先在/etc/sysconfig/jenkins配置文件最后一行增加如下这行
JAVA_ARGS="[a-zA-Z0-9_.@-]+"

# 然后在jenkins的启动脚本中/etc/init.d/jenkins找到关键词JAVA_CMD，如下所示设置
JAVA_CMD="$JENKINS_JAVA_CMD $JENKINS_JAVA_OPTIONS -DJENKINS_HOME=$JENKINS_HOME -Dhudson.security.HudsonPrivateSecurityRealm.ID_REGEX=$JAVA_ARGS -jar $JENKINS_WAR"
```

插件：

修改插件地址

## Gitlab



## Docker



## Harbor

